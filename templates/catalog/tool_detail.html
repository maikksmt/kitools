{% extends "base.html" %} {% load i18n %} {% block meta_title %}<title>
    {{ object.name }} – {{ SITE_NAME }}</title
>{% endblock %} {% block meta_description %}
    <meta
            name="description"
            content="{{ object.short_desc|default:_('Softwareprofil im KI-Katalog.') }}"
    />
{% endblock %} {% block og_type %}product{% endblock %} {% block meta_jsonld %}
    <script type="application/ld+json">
        {
          "@context": "https://schema.org",
          "@type": "SoftwareApplication",
          "name": "{{ object.name|escapejs }}",
    "applicationCategory": "AIApplication",
    "operatingSystem": "All",
        {% if object.pricing_model %}"offers": {"@type":"Offer","priceCurrency":"EUR","price":"
            {{ object.pricing_model|escapejs }}"}, {% endif %}
        "description": "{{ object.long_desc|default:object.short_desc|default:''|truncatechars:300|escapejs }}",
    "url": "{{ request.build_absolute_uri }}",
    "image": "{{ SITE_URL }}/static/og-default.png"
  }
    </script>
{% endblock %}
{% block title %}{{ object.name }}{% endblock %}
{% block content %}
    {% include "partials/breadcrumbs.html" %}

    <article class="prose max-w-none">
        <header class="mb-6">
            <h1 class="text-3xl font-bold">{{ object.name }}</h1>
            {% if object.website_url %}
                <p class="mt-2">
                    <a
                            class="link"
                            href="{{ object.website_url }}"
                            target="_blank"
                            rel="noopener"

                    >{% trans "Zur Webseite" %} ↗</a
                    >
                </p>
            {% endif %}
            <div class="mt-3 flex flex-wrap gap-2">
                {% if object.free_tier %}<span class="badge badge-success">Free Tier</span
                >{% endif %} {% if object.pricing_model %}<span
                    class="badge badge-outline"
            >{{ object.pricing_model }}</span
            >{% endif %} {% if object.categories.all %} {% for c in object.categories.all %}
                <span class="badge">{{ c.name }}</span>
            {% endfor %} {% endif %} {% if object.language_support %} {% for lang in object.language_support %}
                <span class="badge badge-outline">{{ lang }}</span>
            {% endfor %} {% endif %}
            </div>
        </header>

        {% if object.long_desc %}
            <section class="mb-6">
                <h2 class="text-2xl font-semibold">{% trans "Beschreibung" %}</h2>
                <p>{{ object.long_desc }}</p>
            </section>
        {% elif object.short_desc %}
            <p class="text-base-content/80">{{ object.short_desc }}</p>
        {% endif %} {% if object.features %}
        <section class="mb-6">
            <h2 class="text-2xl font-semibold">{% trans "Funktionen" %}</h2>
            <ul class="list-disc pl-6 space-y-1">
                {% for f in object.features %}
                    <li>{{ f }}</li>
                {% endfor %}
            </ul>
        </section>
    {% endif %} {% if object.pricing %}
        <section class="mb-6">
            <h2 class="text-2xl font-semibold">{% trans "Preise" %}</h2>
            <div class="overflow-x-auto">
                <table class="table">
                    <tbody>
                    {% for plan, price in object.pricing.items %}
                        <tr>
                            <th class="whitespace-nowrap">{{ plan }}</th>
                            <td>{{ price }}</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </section>
    {% endif %} {% if object.integrations %}
        <section class="mb-6">
            <h2 class="text-2xl font-semibold">{% trans "Integrationen" %}</h2>
            <div class="flex flex-wrap gap-2">
                {% for integ in object.integrations %}
                    <span class="badge badge-outline">{{ integ }}</span>
                {% endfor %}
            </div>
        </section>
    {% endif %}
    </article>

    {% if related_tools %}
        <section class="mt-10">
            <h2 class="text-2xl font-semibold mb-4">{% trans "Ähnliche Tools" %}</h2>
            <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
                {% for t in related_tools %}
                    <article class="card bg-base-100 shadow">
                        <div class="card-body">
                            <h3 class="card-title text-base">
                                <a
                                        href="{% url 'catalog:tool_detail' slug=t.slug %}"
                                        class="link link-hover"
                                >{{ t.name }}</a
                                >
                            </h3>
                            {% if t.short_desc %}
                                <p class="text-sm text-base-content/70 line-clamp-3">
                                    {{ t.short_desc }}
                                </p>
                            {% endif %}
                        </div>
                    </article>
                {% endfor %}
            </div>
        </section>
    {% endif %} {% endblock %}
